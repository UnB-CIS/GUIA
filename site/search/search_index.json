{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"GUIA","text":"<p>GUIA (Grafo Urbano com Intelig\u00eancia Aplicada) \u00e9 uma plataforma de intelig\u00eancia urbana que utiliza uma arquitetura h\u00edbrida de IA para analisar a vulnerabilidade de ambientes urbanos e gerar rotas seguras para cidad\u00e3os.</p> <p>O sistema processa dados visuais e textuais para extrair fatores de risco, que s\u00e3o ent\u00e3o analisados contextualmente por uma Rede Neural Gr\u00e1ficas (GNN) para modelar como o risco se propaga pela malha urbana.</p>"},{"location":"#contexto-e-problema","title":"Contexto e Problema","text":"<p>A Teoria das Janelas Quebradas sugere que a desordem vis\u00edvel em um ambiente (picha\u00e7\u00f5es, lixo) pode levar a um aumento da criminalidade. As ferramentas atuais s\u00e3o reativas, baseadas em crimes j\u00e1 ocorridos. O GUIA prop\u00f5e uma abordagem proativa, analisando os precursores do risco.</p>"},{"location":"#objetivo-smart","title":"Objetivo (SMART)","text":""},{"location":"arquitetura/","title":"Arquitetura do Sistema","text":""},{"location":"arquitetura/#visao-geral-da-arquitetadura","title":"Vis\u00e3o Geral da Arquitetadura","text":"<p>A arquitetura do sistema foi projetada para separar claramente os processos ass\u00edncronos de constru\u00e7\u00e3o de dados dos processos s\u00edncronos de consulta em tempo real. </p> <ul> <li>Plataforma Online: Engloba todos os servi\u00e7os que interagem diretamente com o usu\u00e1rio em tempo real, como o Frontend, o Backend Orchestrator (ou Load Balancer com NGNIX) e o Cluster de Roteamento Valhalla.</li> <li>Pipeline de Dados e Map Builder (Offline): Um conjunto de processos automatizados que rodam em segundo plano. Ele consome dados de fontes externas (OpenStreetMap) e internas (PostGIS com <code>risk_scores</code>) para gerar os artefatos de mapa enriquecidos que a plataforma online utiliza.</li> <li>Object Storage (S3, GCS): Atua como a ponte entre os dois ambientes, armazenando os artefatos de mapa versionados para deploy.</li> </ul>"},{"location":"arquitetura/#fluxos-de-operacao","title":"Fluxos de Opera\u00e7\u00e3o","text":"<p>A opera\u00e7\u00e3o do sistema \u00e9 dividida em dois fluxos principais e distintos: a alimenta\u00e7\u00e3o peri\u00f3dica dos dados de risco e a requisi\u00e7\u00e3o de rotas em tempo real pelo usu\u00e1rio.</p>"},{"location":"arquitetura/#fluxo-de-build-periodico-offline-assincrono","title":"Fluxo de Build Peri\u00f3dico (Offline Ass\u00edncrono)","text":"<p>Este diagrama detalha o processo automatizado que roda periodicamente (ex: diariamente as 04:00 da manh\u00e3 ou qualquer hor\u00e1rio definido pela equipe) para recriar os mapas do Valhalla, incorporando os <code>risk_scores</code> mais recentes.</p> <p></p>"},{"location":"arquitetura/#fluxos-de-usuario-online-sincrono","title":"Fluxos de Usu\u00e1rio (Online S\u00edncrono)","text":"<p>Este diagrama mostra a sequ\u00eancia de intera\u00e7\u00f5es para os dois casos de uso principais do usu\u00e1rio: submeter um novo report (que ir\u00e1 alimentar o pr\u00f3ximo ciclo de build) e solicitar uma rota segura.</p> <p></p>"},{"location":"arquitetura/#valhalla","title":"Valhalla","text":"<p>O motor de roteamento open-source Valhalla \u00e9 o n\u00facleo do servi\u00e7o de rotas. Seus componentes e o funcionamento dos dados s\u00e3o detalhados a seguir.</p>"},{"location":"arquitetura/#tiles-e-hierarquia-de-dados","title":"Tiles e Hierarquia de Dados","text":"<p>TRADUZIDO DE https://valhalla.github.io/valhalla/tiles/</p> <p>Um tile (ou bloco) representa uma pequena se\u00e7\u00e3o retangular de uma \u00e1rea geogr\u00e1fica. O mapa inteiro \u00e9 dividido em uma grade de tiles quadrados, que s\u00e3o arquivos em um formato bin\u00e1rio espec\u00edfico contendo todas as informa\u00e7\u00f5es necess\u00e1rias para o roteamento.</p> <p>Os tiles s\u00e3o organizados em uma hierarquia de tr\u00eas n\u00edveis para otimizar buscas de longa dist\u00e2ncia:</p> N\u00edvel de Hierarquia Tamanho do Tile Conte\u00fado Principal 0 4\u00b0 Vias expressas (ex: <code>motorway</code>, <code>trunk</code>) 1 1\u00b0 Vias arteriais (ex: <code>primary</code>, <code>secondary</code>) 2 0.25\u00b0 Vias locais (ex: <code>residential</code>, <code>service</code>) <p>Em cada n\u00edvel, o mundo \u00e9 dividido usando a caixa delimitadora <code>(-180, -90, 180, 90)</code>, com a ordena\u00e7\u00e3o come\u00e7ando do canto inferior esquerdo.</p>"},{"location":"arquitetura/#visualizacao","title":"Visualiza\u00e7\u00e3o","text":"<p>A imagem a seguir mostra a divis\u00e3o do mundo nos tiles de n\u00edvel 0.</p> <p></p> <p>Abaixo, exemplos de como regi\u00f5es espec\u00edficas s\u00e3o cobertas pelos diferentes n\u00edveis de tiles (N\u00edvel 0: azul, N\u00edvel 1: verde, N\u00edvel 2: vermelho).</p> <p>Alemanha </p> <p>Pensilv\u00e2nia </p> <p>Nova Iorque </p>"},{"location":"arquitetura/#componentes-internos-do-valhalla","title":"Componentes Internos do Valhalla","text":"<p>O Valhalla \u00e9 composto por v\u00e1rios m\u00f3dulos, cada um com uma responsabilidade clara no processo de build e de roteamento.</p>"},{"location":"arquitetura/#mjolnir","title":"Mjolnir","text":"<p>Responsabilidade: Converter dados brutos do formato <code>.osm.pbf</code> para os tiles rote\u00e1veis do Valhalla. Mjolnir \u00e9 o \"compilador\" do mapa que faz o <code>Extraction, Transformation and Loading (ETL)</code>.</p> <p>Localiza\u00e7\u00e3o: <code>src/mjolnir/</code></p> <p></p> <p>O processo, orquestrado pela ferramenta <code>valhalla_build_tiles</code>, segue v\u00e1rias etapas:</p> <ol> <li>Parsing PBF (<code>pbfgraphparser.cc</code>): Leitura do arquivo <code>.pbf</code> do OpenStreetMap, iterando sobre n\u00f3s, vias e rela\u00e7\u00f5es.</li> <li>Constru\u00e7\u00e3o do Grafo (<code>graphbuilder.cc</code>): Transforma\u00e7\u00e3o das entidades OSM em um grafo.<ul> <li>N\u00f3s (Nodes): Tornam-se v\u00e9rtices.</li> <li>Vias (Ways): Tornam-se arestas (edges). A l\u00f3gica de custo (velocidade, acesso) \u00e9 aplicada aqui, configurada via scripts Lua (<code>/lua/graph.lua</code>). \u00c9 aqui que o <code>risk_score</code> \u00e9 incorporado como um peso de custo</li> </ul> </li> <li>Constru\u00e7\u00e3o da Hierarquia (<code>hierarchybuilder.cc</code>): Classifica\u00e7\u00e3o das arestas nos n\u00edveis 0, 1 e 2 e gera\u00e7\u00e3o de \"atalhos\" (shortcuts) para acelerar a busca.</li> <li>Particionamento em Tiles (<code>graphtilebuilder.cc</code>): Divis\u00e3o do grafo global na grade de tiles (<code>.gph</code>).</li> <li>Artefato Final: O resultado \u00e9 um diret\u00f3rio <code>valhalla_tiles</code> (ou <code>valhalla_tiles.tar</code>), que \u00e9 o \"bin\u00e1rio\" de produ\u00e7\u00e3o.</li> </ol>"},{"location":"arquitetura/#baldr-a-camada-de-acesso-a-dados","title":"Baldr: A Camada de Acesso a Dados","text":"<p>Responsabilidade: Definir e fornecer acesso eficiente \u00e0s estruturas de dados do grafo.</p> <p>Localiza\u00e7\u00e3o: <code>src/baldr/</code></p> <ul> <li>Estrutura do Tile (<code>graphtile.h</code>): Cada arquivo <code>.gph</code> \u00e9 um bloco bin\u00e1rio com um layout denso para acesso r\u00e1pido aos dados.</li> <li><code>GraphId</code> (<code>graphid.h</code>): Um <code>uint64_t</code> que identifica unicamente qualquer n\u00f3 no grafo global, codificando o ID do tile, o n\u00edvel da hierarquia e o \u00edndice do n\u00f3.</li> <li>Acesso e Mem\u00f3ria (<code>graphreader.cc</code>): Utiliza <code>mmap</code> para mapear o arquivo <code>valhalla_tiles.tar</code> no espa\u00e7o de endere\u00e7o virtual do processo. O sistema operacional gerencia o carregamento de dados do disco para a RAM sob demanda.</li> </ul>"},{"location":"arquitetura/#tyr-loki-thor-e-odin","title":"Tyr, Loki, Thor e Odin","text":"<ol> <li>Tyr (<code>src/tyr/</code>): Recebe a requisi\u00e7\u00e3o HTTP e orquestra o fluxo interno.</li> <li>Loki (<code>src/loki/</code>): O servi\u00e7o de \"matching\". Converte as coordenadas da requisi\u00e7\u00e3o (lat, lon) para os n\u00f3s/arestas correspondentes no grafo (\"snap-to-road\").</li> <li>Thor (<code>src/thor/</code>): A engine de busca de caminho. Recebe os n\u00f3s de Loki e executa os algoritmos de roteamento.<ul> <li>Algoritmo (<code>bidirectional_astar.cc</code>): Utiliza o A* Bidirecional para performance.</li> <li>Busca Hier\u00e1rquica: A t\u00e9cnica de otimiza\u00e7\u00e3o que \"sobe\" para as vias principais para trechos longos e \"desce\" para as vias locais nas pontas da rota.</li> </ul> </li> <li>Odin (<code>src/odin/</code>): O servi\u00e7o de \"narrativa\". Converte o caminho bruto (sequ\u00eancia de <code>GraphId</code>s) retornado pelo Thor em instru\u00e7\u00f5es de navega\u00e7\u00e3o turn-by-turn.</li> </ol>"},{"location":"arquitetura/#estrategia-de-escalonamento","title":"Estrat\u00e9gia de Escalonamento","text":""},{"location":"arquitetura/#matriz-de-decisao-para-arquiteturas","title":"Matriz de Decis\u00e3o para Arquiteturas","text":"<p>Pesquisa feita com <code>Deep Search</code> do Gemni 2.5 pro e <code>Investigar</code> do ChatGPT 4.0/5.0</p> Crit\u00e9rio Replica\u00e7\u00e3o Monol\u00edtica Sharding Geogr\u00e1fico Lazy-Loading / Cache Remoto Tempo de Inicializa\u00e7\u00e3o M\u00e9dio-Alto (1-10 min)Depende do I/O do disco para o <code>mmap</code> inicial. Baixo (&lt;2 min)Dataset menor significa inicializa\u00e7\u00e3o mais r\u00e1pida. Muito Baixo (&lt;10 seg)O custo \u00e9 transferido para a lat\u00eancia da primeira requisi\u00e7\u00e3o. Velocidade de Escalonamento M\u00e9diaLimitada pelo tempo de inicializa\u00e7\u00e3o. Requer over-provisioning. R\u00e1pidaPods mais leves permitem que o HPA responda mais agilmente. Muito R\u00e1pidaEscalonamento do compute \u00e9 desacoplado do dado. Efici\u00eancia de CPU/Mem\u00f3ria Alta (se bem dimensionado)O <code>mmap</code> \u00e9 extremamente otimizado. O \"desperd\u00edcio\" \u00e9 o custo de disco replicado. Muito AltaRecursos alocados para a demanda espec\u00edfica de uma regi\u00e3o. Vari\u00e1velDegradada por I/O de rede; pode criar gargalos no cache remoto. Complexidade Operacional BaixaDeploy padr\u00e3o. Artefato \u00fanico. Load balancing stateless. AltaRequer um proxy de roteamento L7 e m\u00faltiplos artefatos. Muito AltaRequer driver customizado e infra de cache robusta. Isolamento de Falhas M\u00e9dioFalha no pod afeta apenas aquele pod. AltoFalha \u00e9 contida no shard daquela regi\u00e3o geogr\u00e1fica. BaixoDepend\u00eancia de um servi\u00e7o de cache/storage centralizado. Roteamento Inter-regional Nativo e At\u00f4micoPerformance \u00f3tima dentro de um \u00fanico processo. Complexo e LentoRequer costura de resultados entre shards, adicionando lat\u00eancia. Nativo (em teoria)Degradado por m\u00faltiplas buscas de tiles remotos. Custo em Escala M\u00e9dio-AltoCusto principal \u00e9 o armazenamento em bloco (SSD) replicado. M\u00e9dioEconomiza em armazenamento, mas adiciona custo do proxy e de engenharia. Potencialmente Baixo (em teoria)Custo de engenharia e da infra de cache pode anular a economia."},{"location":"arquitetura/#monolito-replicado-com-orquestracao","title":"Monolito Replicado com Orquestra\u00e7\u00e3o","text":"<p>Para cobrir o Brasil e escalar para uma alta carga de requisi\u00e7\u00f5es, a arquitetura de Replica\u00e7\u00e3o Monol\u00edtica \u00e9 a escolha ideal. A complexidade introduzida pelas outras abordagens n\u00e3o justifica seus benef\u00edcios, exceto em escala verdadeiramente global.</p> <p>Justificativa T\u00e9cnica:</p> <ol> <li>Evita Fal\u00e1cias de Sistemas Distribu\u00eddos: Sharding e Lazy-Loading transformam um problema de computa\u00e7\u00e3o local em um problema de sistema distribu\u00eddo, introduzindo lat\u00eancia de rede e complexidade de consist\u00eancia desnecessariamente.</li> <li>Performance At\u00f4mica: O <code>mmap</code> de um arquivo local \u00e9 uma das opera\u00e7\u00f5es de I/O mais r\u00e1pidas poss\u00edveis. A transi\u00e7\u00e3o entre tiles tem lat\u00eancia na ordem de microssegundos a milissegundos, enquanto uma chamada de rede adiciona dezenas a centenas de milissegundos.</li> <li>Simplicidade Operacional: A simplicidade de gerenciar um \u00fanico artefato de mapa (enriquecido com <code>risk_score</code>) e um \u00fanico tipo de servi\u00e7o com um load balancer stateless \u00e9 um benef\u00edcio imenso em termos de confiabilidade, depura\u00e7\u00e3o e velocidade de desenvolvimento.</li> </ol>"},{"location":"backend-infra/","title":"Backend e Infraestrutura","text":"<p>Esta se\u00e7\u00e3o detalha as tecnologias e a estrutura de dados do GUIA.</p>"},{"location":"backend-infra/#banco-de-dados-postgresql-postgis","title":"Banco de Dados (PostgreSQL + PostGIS)","text":"<p>PostgreSQL com framework PostGIS para dados geoespaciais.</p>"},{"location":"backend-infra/#schema-do-banco","title":"Schema do Banco","text":"<pre><code>// c\u00f3digo DBML\n// Pode usar dbdiagram.io\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#configuracao-do-ambiente-local","title":"Configura\u00e7\u00e3o do Ambiente Local","text":""},{"location":"pipeline-dados/","title":"Pipeline de Extra\u00e7\u00e3o de Risk Score","text":"<p>Figura 1 - Diagrama de Fluxo de Dados</p>"},{"location":"pipeline-dados/#1-extracao-de-features-com-vlms","title":"1. Extra\u00e7\u00e3o de Features com VLMs","text":"<p>Em vez de usar uma CNN tradicional, adotamos uma abordagem baseada em Modelos de Linguagem e Vis\u00e3o (VLMs) para uma extra\u00e7\u00e3o de features mais rica.</p>"},{"location":"pipeline-dados/#etapa-11-image-to-text-qwen","title":"Etapa 1.1: Image-to-Text (Qwen)","text":"<p>Entrada: imagem de uma rua (fornecida pelo usu\u00e1rio ou obtida via Street View).</p> <p>Processo: a imagem \u00e9 convertida em um relat\u00f3rio detalhado de CPTED, no qual o modelo gera:</p> <p>Notas de 0 a 10 para cada um dos seis crit\u00e9rios de avalia\u00e7\u00e3o.</p> <p>Coment\u00e1rios explicativos que justificam as notas atribu\u00eddas.</p>"},{"location":"pipeline-dados/#etapa-12-risk-score","title":"Etapa 1.2: Risk Score","text":"<p>Com base nas notas fornecidas na etapa anterior, o sistema calcula um Risk Score agregado, sintetizando o n\u00edvel de risco da \u00e1rea analisada.</p> <p>O c\u00e1lculo considera o peso de cada crit\u00e9rio de CPTED, resultando em uma m\u00e9trica \u00fanica e compar\u00e1vel entre diferentes locais.</p>"},{"location":"pipeline-dados/#2-solucao-de-cold-start","title":"2. Solu\u00e7\u00e3o de Cold Start","text":"<p>Para superar o problema de falta inicial de dados de usu\u00e1rios, adotamos a seguinte estrat\u00e9gia:</p> <p>Utiliza\u00e7\u00e3o da API do Google Street View para coletar imagens em massa.</p> <p>Isso permite treinar e validar o pipeline antes da entrada de dados reais de usu\u00e1rios.</p> <p>Assim, o modelo j\u00e1 est\u00e1 funcional e \u00fatil desde o primeiro dia de uso.</p>"},{"location":"requisitos/","title":"Especifica\u00e7\u00e3o de Requisitos de Software (ERS) - App GUIA","text":"<p> Download Excalidraw file</p>"},{"location":"requisitos/#requisitos-funcionais","title":"Requisitos Funcionais","text":"ID Descri\u00e7\u00e3o RF 1 O usu\u00e1rio deve ser capaz de se cadastrar na plataforma. <ul><li>RF 1.1: O usu\u00e1rio deve informar o e-mail.</li><li>RF 1.2: O usu\u00e1rio deve informar a senha.</li><li>RF 1.3: O usu\u00e1rio deve informar o nome completo.</li><li>RF 1.4: O usu\u00e1rio deve ser capaz de fazer o cadastro pelo Google.</li></ul> RF 2 O usu\u00e1rio deve ser capaz de fazer login na plataforma. <ul><li>RF 2.1: O usu\u00e1rio deve ser capaz de fazer login pelo Google.</li><li>RF 2.2: O usu\u00e1rio deve ser capaz de fazer login apenas com e-mail e senha.</li><li>RF 2.3: O usu\u00e1rio deve ser capaz de recuperar a senha.</li><li>RF 2.4: O usu\u00e1rio deve ser capaz de alterar a senha.</li></ul> RF 3 O usu\u00e1rio deve ter um perfil. <ul><li>RF 3.1: O usu\u00e1rio deve ser capaz de editar as informa\u00e7\u00f5es do perfil.</li><li>RF 3.2: O usu\u00e1rio deve ser capaz de visualizar as fotos j\u00e1 enviadas.</li><li>RF 3.3: O usu\u00e1rio deve ser capaz de apagar as fotos enviadas.</li><li>RF 3.4: O usu\u00e1rio deve ser capaz de visualizar o local da foto tirada.</li><li>RF 3.5: O usu\u00e1rio deve ser capaz de visualizar as informa\u00e7\u00f5es de risco da foto tirada.</li><li>RF 3.6: O usu\u00e1rio deve ser capaz de visualizar os crit\u00e9rios do CPTED de forma clara.</li></ul> RF 4 O usu\u00e1rio deve ser capaz de escolher pontos no mapa. <ul><li>RF 4.1: O usu\u00e1rio pode escolher uma ou mais paradas entre o ponto inicial e final.</li><li>RF 4.2: O usu\u00e1rio deve ser capaz de visualizar a rota.</li><li>RF 4.3: O usu\u00e1rio deve ser capaz de visualizar os hex\u00e1gonos.</li><li>RF 4.4: O usu\u00e1rio deve ser capaz de visualizar a pontua\u00e7\u00e3o de risco dos hex\u00e1gonos pr\u00f3ximos.</li></ul> RF 5 O sistema deve ser capaz de gerar a rota. <ul><li>RF 5.1: O sistema deve ser capaz de calcular rotas entre no m\u00e1ximo 4 pontos.</li></ul>"},{"location":"requisitos/#requisitos-nao-funcionais","title":"Requisitos N\u00e3o Funcionais","text":"ID Descri\u00e7\u00e3o RNF 1 As fotos devem ficar armazenadas no dispositivo do usu\u00e1rio. RNF 2 O e-mail do usu\u00e1rio precisa ser validado. RNF 3 A rota deve ser calculada em at\u00e9 x segundos. RNF 3.1 O sistema deve ser capaz de carregar informa\u00e7\u00f5es das regi\u00f5es pr\u00f3ximas do usu\u00e1rio em no m\u00e1ximo x segundos."},{"location":"requisitos/#itens-a-definir","title":"Itens a Definir","text":"<p>A lista abaixo cont\u00e9m pontos que necessitam de detalhamento e decis\u00e3o junto \u00e0 equipe antes ou durante o desenvolvimento:</p> <ul> <li>Verificar viabilidade de autentica\u00e7\u00e3o de dois fatores por SMS ou e-mail.  </li> </ul>"},{"location":"roadmap/","title":"Roadmap de Desenvolvimento","text":""},{"location":"roadmap/#backlog-de-issues","title":"Backlog de Issues","text":""},{"location":"roadmap/#infraestrutura-devops-guia-infra","title":"Infraestrutura &amp; DevOps (guia-infra)","text":"<ul> <li><code>[Infra] 1:</code> Configurar ambiente de desenvolvimento local com Docker Compose.</li> <li><code>[Infra] 2:</code> Estruturar pipeline de CI base com GitHub Actions.</li> <li><code>[Infra] 3:</code> Escrever Dockerfile e pipeline de CI para <code>guia-backend</code>.</li> <li><code>[Infra] 4:</code> Escrever Dockerfile e pipeline de CI para <code>guia-report-processing</code>.</li> <li><code>[Infra] 5:</code> Escrever Dockerfile e pipeline de CI para <code>guia-routing-engine</code>.</li> <li><code>[Infra] 6:</code> Provisionar cluster Kubernetes (K8s) e configurar acesso <code>kubectl</code>. CURVA DE APRENDIZAGEM</li> <li><code>[Infra] 7:</code> Criar manifestos K8s (Deployment, Service, ConfigMap) para <code>guia-backend</code>. CURVA DE APRENDIZAGEM</li> <li><code>[Infra] 8:</code> Criar manifestos K8s para <code>guia-report-processing</code>.  CURVA DE APRENDIZAGEM</li> <li><code>[Infra] 9:</code> Criar manifestos K8s para <code>guia-routing-engine</code> (com PersistentVolumeClaim). CURVA DE APRENDIZAGEM</li> <li><code>[Infra] 10:</code> Configurar NGINX Ingress Controller para roteamento de APIs.</li> <li><code>[Infra] 11:</code> Configurar segredos (secrets) no K8s para credenciais. CURVA DE APRENDIZAGEM</li> <li><code>[Infra] 12:</code> Implementar deploy de Prometheus e Grafana para monitoramento OPICIONAL</li> </ul>"},{"location":"roadmap/#banco-de-dados-guia-db","title":"Banco de Dados (guia-db)","text":"<ul> <li><code>[Dados] 1:</code> Modelagem do Banco de dados com <code>schemas</code> e <code>configs</code> do PostGIS.</li> <li><code>[Dados] 2:</code> Finalizar e commitar schema do PostGIS (tabelas: <code>users</code>, <code>reports</code>, <code>h3_risk_index</code>).</li> <li><code>[Dados] 3:</code> Implementar pipeline de migra\u00e7\u00e3o de schema (ex: com Alembic).</li> <li><code>[Dados] 4:</code> Desenvolver script para popular a tabela <code>h3_risk_index</code> com a geometria da grade H3.</li> </ul>"},{"location":"roadmap/#backend-guia-backend","title":"Backend (guia-backend)","text":"<ul> <li><code>[Backend] 1:</code> Implementar endpoints de autentica\u00e7\u00e3o JWT (<code>/auth/register</code>, <code>/auth/login</code>).</li> <li><code>[Backend] 2:</code> Proteger endpoints da aplica\u00e7\u00e3o com middleware de autentica\u00e7\u00e3o JWT.</li> <li><code>[Backend] 3:</code> Implementar endpoint <code>POST /api/reports</code> para receber metadados de ocorr\u00eancias.</li> <li><code>[Backend] 4:</code> Implementar endpoint para gerar URL de upload pr\u00e9-assinada para o Object Storage.</li> <li><code>[Backend] 5:</code> Implementar a publica\u00e7\u00e3o de mensagem na fila (RabbitMQ) ap\u00f3s confirma\u00e7\u00e3o do upload. CURVA DE APRENDIZAGEM</li> <li><code>[Backend] 6:</code> Implementar endpoint <code>GET /api/heatmap</code> para servir dados da tabela <code>h3_risk_index</code>.</li> </ul>"},{"location":"roadmap/#processamento-de-reports-com-ia-guia-report-processing","title":"Processamento de Reports com IA (guia-report-processing)","text":"<ul> <li><code>[IA] 1:</code> Construir o consumidor da fila para escutar novas tarefas de processamento.</li> <li><code>[IA] 2:</code> Implementar a integra\u00e7\u00e3o com o modelo Image-to-Text.</li> <li><code>[IA] 3:</code> Implementar a integra\u00e7\u00e3o com o modelo de Extra\u00e7\u00e3o de Informa\u00e7\u00e3o.</li> <li><code>[IA] 4:</code> Implementar o algoritmo para c\u00e1lculo do <code>risk_score</code>.</li> <li><code>[IA] 5:</code> Implementar a l\u00f3gica para salvar/atualizar o <code>risk_score</code> na tabela <code>h3_risk_index</code>.</li> </ul>"},{"location":"roadmap/#motor-de-roteamento-guia-routing-engine","title":"Motor de Roteamento (guia-routing-engine)","text":"<ul> <li><code>[Rota] 1:</code> Fazer um fork do reposit\u00f3rio oficial do Valhalla.</li> <li><code>[Rota] 2:</code> Realizar profiling de performance para identificar gargalos no c\u00f3digo C++.</li> <li><code>[Rota] 3:</code> Refatorar o c\u00f3digo para remover perfis de custo n\u00e3o utilizados (ex: bicicleta, pedestre).</li> <li><code>[Rota] 4:</code> Pesquisar a viabilidade de modificar o <code>GraphBuilder</code> em C++ para consultar o PostGIS diretamente.</li> <li><code>[Rota] 5:</code> Definir o contrato da API (<code>/route</code>) com OpenAPI/Swagger.</li> <li><code>[Rota] 6:</code> Estruturar o servi\u00e7o de API.</li> <li><code>[Rota] 7:</code> Implementar a valida\u00e7\u00e3o de entrada da requisi\u00e7\u00e3o.</li> <li><code>[Rota] 8:</code> Implementar a l\u00f3gica de proxy para o processo Valhalla.</li> <li><code>[Rota] 9:</code> Implementar tratamento de erros e timeouts do Valhalla.</li> <li><code>[Rota] 10:</code> Implementar endpoint de health check (<code>/healthz</code>). CURVA DE APRENDIZAGEM</li> <li><code>[Rota] 11:</code> Instrumentar o servi\u00e7o com m\u00e9tricas Prometheus. OPICIONAL</li> <li><code>[Rota] 12:</code> Escrever su\u00edte de testes de integra\u00e7\u00e3o para o fluxo da API.</li> </ul>"},{"location":"roadmap/#map-builder-job-assincrono-map-builder","title":"Map Builder (Job Ass\u00edncrono - map-builder)","text":"<ul> <li><code>[Builder] 1:</code> Criar script <code>enrich_osm_with_risk.py</code>.</li> <li><code>[Builder] 2:</code> Criar script <code>valhalla_build_tiles.sh</code>.</li> <li><code>[Builder] 3:</code> Criar o workflow de GitHub Actions agendado (Cron). CURVA DE APRENDIZAGEM</li> <li><code>[Builder] 4:</code> Adicionar passo ao workflow para upload do <code>valhalla_tiles.tar</code> para Object Storage.</li> <li><code>[Builder] 5:</code> Adicionar passo ao workflow para disparar o Rolling Update via <code>kubectl apply</code>.</li> </ul>"},{"location":"roadmap/#aplicativo-mobile-guia-mobile","title":"Aplicativo Mobile (guia-mobile)","text":"<ul> <li><code>[Mobile] 1:</code> Implementar telas e fluxo de autentica\u00e7\u00e3o.</li> <li><code>[Mobile] 2:</code> Implementar fluxo de submiss\u00e3o de reports.</li> <li><code>[Mobile] 3:</code> Implementar a interface do mapa (com H3 Uber, utilizar exemplo da 99).</li> <li><code>[Mobile] 4:</code> Implementar a UI para solicitar uma rota.</li> <li><code>[Mobile] 5:</code> Implementar a chamada ao <code>GET /api/route</code> e desenhar a polilinha no mapa.</li> </ul>"},{"location":"roadmap/#dashboard-web-guia-web","title":"Dashboard Web (guia-web)","text":"<ul> <li><code>[Web] 1:</code> Estruturar o projeto base do dashboard (ex: com React, ou HTML puro).</li> <li><code>[Web] 2:</code> Implementar a interface do H3.</li> <li><code>[Web] 3:</code> Implementar a l\u00f3gica para consumir o endpoint <code>GET /api/H3</code>.</li> </ul>"},{"location":"roadmap/#qualidade-seguranca-documentacao-curva-de-aprendizagem","title":"Qualidade, Seguran\u00e7a &amp; Documenta\u00e7\u00e3o CURVA DE APRENDIZAGEM","text":"<ul> <li><code>[QA] 1:</code> Definir e documentar a estrat\u00e9gia de testes (Unit, Integration, E2E).</li> <li><code>[QA] 2:</code> Implementar su\u00edte de testes E2E que simula o fluxo completo.</li> <li><code>[SEC] 1:</code> Configurar pol\u00edticas de seguran\u00e7a no Ingress (ex: Rate Limiting).</li> <li><code>[SEC] 2:</code> Implementar Network Policies no K8s para restringir a comunica\u00e7\u00e3o entre servi\u00e7os.</li> <li><code>[DOC] 1:</code> Gerar e publicar a documenta\u00e7\u00e3o da API (via OpenAPI/Swagger).</li> </ul>"},{"location":"roadmap/#plano-de-sprints-2-semanas-por-sprint","title":"Plano de Sprints (2 semanas por Sprint)","text":""},{"location":"roadmap/#sprint-1-fundacao","title":"Sprint 1: Funda\u00e7\u00e3o","text":"<ul> <li><code>[Infra] 1:</code> Configurar ambiente de desenvolvimento local.</li> <li><code>[Dados] 1:</code> Modelagem do Banco de dados.</li> </ul>"},{"location":"roadmap/#sprint-2-schema-e-migracao","title":"Sprint 2: Schema e Migra\u00e7\u00e3o","text":"<ul> <li><code>[Dados] 2:</code> Finalizar e commitar schema do PostGIS.</li> <li><code>[Dados] 3:</code> Implementar pipeline de migra\u00e7\u00e3o de schema.</li> </ul>"},{"location":"roadmap/#sprint-3-ci-e-autenticacao","title":"Sprint 3: CI e Autentica\u00e7\u00e3o","text":"<ul> <li><code>[Infra] 2:</code> Estruturar pipeline de CI base.</li> <li><code>[Backend] 1:</code> Implementar endpoints de autentica\u00e7\u00e3o JWT.</li> </ul>"},{"location":"roadmap/#sprint-4-dockerizacao-do-backend","title":"Sprint 4: Dockeriza\u00e7\u00e3o do Backend","text":"<ul> <li><code>[Infra] 3:</code> Escrever Dockerfile e pipeline de CI para <code>guia-backend</code>.</li> <li><code>[Backend] 2:</code> Proteger endpoints com middleware JWT.</li> </ul>"},{"location":"roadmap/#sprint-5-inicio-da-ingestao-de-reports","title":"Sprint 5: In\u00edcio da Ingest\u00e3o de Reports","text":"<ul> <li><code>[Backend] 3:</code> Implementar endpoint <code>POST /api/reports</code>.</li> <li><code>[Backend] 4:</code> Implementar endpoint para gerar URL de upload pr\u00e9-assinada.</li> </ul>"},{"location":"roadmap/#sprint-6-fila-de-processamento","title":"Sprint 6: Fila de Processamento","text":"<ul> <li><code>[Backend] 5:</code> Implementar a publica\u00e7\u00e3o de mensagem na fila (RabbitMQ).</li> <li><code>[IA] 1:</code> Construir o consumidor da fila.</li> </ul>"},{"location":"roadmap/#sprint-7-dockerizacao-da-ia","title":"Sprint 7: Dockeriza\u00e7\u00e3o da IA","text":"<ul> <li><code>[Infra] 4:</code> Escrever Dockerfile e pipeline de CI para <code>guia-report-processing</code>.</li> <li><code>[IA] 5:</code> Implementar a l\u00f3gica para salvar/atualizar <code>risk_score</code> (mockado).</li> </ul>"},{"location":"roadmap/#sprint-8-autenticacao-mobile","title":"Sprint 8: Autentica\u00e7\u00e3o Mobile","text":"<ul> <li><code>[Mobile] 1:</code> Implementar telas e fluxo de autentica\u00e7\u00e3o.</li> <li><code>[DOC] 1:</code> Gerar e publicar a documenta\u00e7\u00e3o da API.</li> </ul>"},{"location":"roadmap/#sprint-9-submissao-de-reports-mobile","title":"Sprint 9: Submiss\u00e3o de Reports Mobile","text":"<ul> <li><code>[Mobile] 2:</code> Implementar fluxo de submiss\u00e3o de reports.</li> <li><code>[IA] 2:</code> Implementar a integra\u00e7\u00e3o com o modelo Image-to-Text.</li> </ul>"},{"location":"roadmap/#sprint-10-ia-extracao-de-info","title":"Sprint 10: IA - Extra\u00e7\u00e3o de Info","text":"<ul> <li><code>[IA] 3:</code> Implementar a integra\u00e7\u00e3o com o modelo de Extra\u00e7\u00e3o de Informa\u00e7\u00e3o.</li> <li><code>[IA] 4:</code> Implementar o algoritmo para c\u00e1lculo do <code>risk_score</code>.</li> </ul>"},{"location":"roadmap/#sprint-11-fundacao-de-roteamento","title":"Sprint 11: Funda\u00e7\u00e3o de Roteamento","text":"<ul> <li><code>[Infra] 5:</code> Escrever Dockerfile e pipeline de CI para <code>guia-routing-engine</code>.</li> <li><code>[Rota] 5:</code> Definir o contrato da API (<code>/route</code>).</li> </ul>"},{"location":"roadmap/#sprint-12-estrutura-da-api-de-rota","title":"Sprint 12: Estrutura da API de Rota","text":"<ul> <li><code>[Rota] 6:</code> Estruturar o servi\u00e7o de API.</li> <li><code>[Rota] 8:</code> Implementar a l\u00f3gica de proxy para o processo Valhalla.</li> </ul>"},{"location":"roadmap/#sprint-13-validacao-e-erros-de-rota","title":"Sprint 13: Valida\u00e7\u00e3o e Erros de Rota","text":"<ul> <li><code>[Rota] 7:</code> Implementar a valida\u00e7\u00e3o de entrada da requisi\u00e7\u00e3o.</li> <li><code>[Rota] 9:</code> Implementar tratamento de erros e timeouts do Valhalla.</li> </ul>"},{"location":"roadmap/#sprint-14-populacao-de-dados-e-mapa-mobile","title":"Sprint 14: Popula\u00e7\u00e3o de Dados e Mapa Mobile","text":"<ul> <li><code>[Dados] 4:</code> Desenvolver script para popular a tabela <code>h3_risk_index</code>.</li> <li><code>[Mobile] 3:</code> Implementar a interface do mapa.</li> </ul>"},{"location":"roadmap/#sprint-15-inicio-do-map-builder","title":"Sprint 15: In\u00edcio do Map Builder","text":"<ul> <li><code>[Builder] 1:</code> Criar script <code>enrich_osm_with_risk.py</code>.</li> <li><code>[Builder] 2:</code> Criar script <code>valhalla_build_tiles.sh</code>.</li> </ul>"},{"location":"roadmap/#sprint-16-automacao-do-build","title":"Sprint 16: Automa\u00e7\u00e3o do Build","text":"<ul> <li><code>[Builder] 3:</code> Criar o workflow de GitHub Actions agendado.</li> <li><code>[Builder] 4:</code> Adicionar passo para upload do artefato.</li> </ul>"},{"location":"roadmap/#sprint-17-ui-de-rota-e-deploy-do-builder","title":"Sprint 17: UI de Rota e Deploy do Builder","text":"<ul> <li><code>[Builder] 5:</code> Adicionar passo para disparar o Rolling Update.</li> <li><code>[Mobile] 4:</code> Implementar a UI para solicitar uma rota.</li> </ul>"},{"location":"roadmap/#sprint-18-conexao-final-mvp","title":"Sprint 18: Conex\u00e3o Final (MVP)","text":"<ul> <li><code>[Mobile] 5:</code> Implementar a chamada ao <code>GET /api/route</code> e desenhar a polilinha.</li> <li><code>[QA] 1:</code> Definir e documentar a estrat\u00e9gia de testes.</li> </ul>"},{"location":"roadmap/#sprint-19-fundacao-k8s","title":"Sprint 19: Funda\u00e7\u00e3o K8s","text":"<ul> <li><code>[Infra] 6:</code> Provisionar cluster Kubernetes (K8s).</li> <li><code>[Infra] 11:</code> Configurar segredos (secrets) no K8s.</li> </ul>"},{"location":"roadmap/#sprint-20-deploy-no-k8s-backend-ia","title":"Sprint 20: Deploy no K8s (Backend &amp; IA)","text":"<ul> <li><code>[Infra] 7:</code> Criar manifestos K8s para <code>guia-backend</code>.</li> <li><code>[Infra] 8:</code> Criar manifestos K8s para <code>guia-report-processing</code>.</li> </ul>"},{"location":"roadmap/#sprint-21-deploy-no-k8s-rota-ingress","title":"Sprint 21: Deploy no K8s (Rota &amp; Ingress)","text":"<ul> <li><code>[Infra] 9:</code> Criar manifestos K8s para <code>guia-routing-engine</code>.</li> <li><code>[Infra] 10:</code> Configurar NGINX Ingress Controller.</li> </ul>"},{"location":"roadmap/#sprint-22-testes-e-saude-do-sistema","title":"Sprint 22: Testes e Sa\u00fade do Sistema","text":"<ul> <li><code>[Rota] 10:</code> Implementar endpoint de health check.</li> <li><code>[Rota] 12:</code> Escrever su\u00edte de testes de integra\u00e7\u00e3o.</li> </ul>"},{"location":"roadmap/#sprint-23-seguranca-e-testes-e2e","title":"Sprint 23: Seguran\u00e7a e Testes E2E","text":"<ul> <li><code>[QA] 2:</code> Implementar su\u00edte de testes E2E.</li> <li><code>[SEC] 1:</code> Configurar pol\u00edticas de seguran\u00e7a no Ingress.</li> </ul>"},{"location":"roadmap/#sprint-24-seguranca-de-rede","title":"Sprint 24: Seguran\u00e7a de Rede","text":"<ul> <li><code>[SEC] 2:</code> Implementar Network Policies no K8s.</li> <li><code>[Web] 1:</code> Estruturar o projeto base do dashboard.</li> </ul>"},{"location":"roadmap/#sprint-25-dashboard-web","title":"Sprint 25: Dashboard Web","text":"<ul> <li><code>[Web] 2:</code> Implementar a interface do H3.</li> <li><code>[Backend] 6:</code> Implementar endpoint <code>GET /api/heatmap</code>.</li> </ul>"},{"location":"roadmap/#sprint-26-finalizacao-do-dashboard","title":"Sprint 26: Finaliza\u00e7\u00e3o do Dashboard","text":"<ul> <li><code>[Web] 3:</code> Implementar a l\u00f3gica para consumir o endpoint <code>GET /api/H3</code>.</li> <li><code>[Infra] 12:</code> Implementar deploy de Prometheus e Grafana.</li> </ul>"},{"location":"roadmap/#sprint-27-metricas-e-fork-valhalla-pos-mvp","title":"Sprint 27: M\u00e9tricas e Fork Valhalla (P\u00f3s-MVP)","text":"<ul> <li><code>[Rota] 11:</code> Instrumentar o servi\u00e7o com m\u00e9tricas Prometheus.</li> <li><code>[Rota] 1:</code> Fazer um fork do reposit\u00f3rio oficial do Valhalla.</li> </ul>"},{"location":"roadmap/#sprint-28-analise-valhalla-pos-mvp","title":"Sprint 28: An\u00e1lise Valhalla (P\u00f3s-MVP)","text":"<ul> <li><code>[Rota] 2:</code> Realizar profiling de performance.</li> <li><code>[Rota] 3:</code> Refatorar para remover perfis de custo n\u00e3o utilizados.</li> </ul>"},{"location":"roadmap/#sprint-29-pd-valhalla-pos-mvp","title":"Sprint 29: P&amp;D Valhalla (P\u00f3s-MVP)","text":"<ul> <li><code>[Rota] 4:</code> Pesquisar viabilidade de modificar o <code>GraphBuilder</code>.</li> </ul> <p>Dura\u00e7\u00e3o Total Estimada: 29 Sprints de 2 semanas = 58 semanas ~= 15 meses.</p>"},{"location":"vlms/","title":"Relat\u00f3rio de Compara\u00e7\u00e3o Entre os VLMS","text":"<p>Os modelos foram utilizados por meio da interface da Hyperbolic. Todos os modelos foram utilizados com a limita\u00e7\u00e3o de 512 tokens.</p> Modelo Pre\u00e7o Qwen2-5-VL-72B-Instruct $0.60 / 1M Tokens Qwen2-5-VL-7B-Instruct $0.20 / 1M Tokens Pixtral-12B $0.10 / 1M Tokens <p>A imagem usada para a an\u00e1lise foi essa:</p> <p></p>"},{"location":"vlms/#prompt-1","title":"Prompt 1","text":"<pre><code>Quero que voc\u00ea atue como um especialista em CPTED (Crime Prevention Through Environmental Design).\nVou enviar uma imagem de uma rua e voc\u00ea deve analisar a cena segundo os seis princ\u00edpios do CPTED:\n\nVigil\u00e2ncia natural (V) \u2192 H\u00e1 ilumina\u00e7\u00e3o adequada? A rua \u00e9 vis\u00edvel? Janelas e fachadas contribuem para a observa\u00e7\u00e3o?  \nControle natural de acesso (A) \u2192 Existem barreiras, entradas definidas, port\u00f5es ou elementos que limitem acessos indesejados?  \nRefor\u00e7o territorial (T) \u2192 H\u00e1 sinais claros de propriedade e pertencimento (jardins cuidados, muros, sinaliza\u00e7\u00e3o, pintura)?  \nManuten\u00e7\u00e3o (M) \u2192 O espa\u00e7o est\u00e1 limpo, conservado, sem picha\u00e7\u00f5es ou sinais de abandono?  \nAtividades leg\u00edtimas (AL) \u2192 O espa\u00e7o \u00e9 usado para atividades positivas (com\u00e9rcio, lazer, conviv\u00eancia)?  \nSuporte para atividades sociais (S) \u2192 Existem estruturas que favorecem intera\u00e7\u00e3o comunit\u00e1ria (pra\u00e7as, bancos, quadras)?  \nSua resposta deve conter:  \nUma avalia\u00e7\u00e3o descritiva de cada item.  \nUma nota de 0 a 10 para cada vari\u00e1vel (V, A, T, M, AL, S).  \nO c\u00e1lculo do Risk Score da rua, aplicando a f\u00f3rmula correspondente ao tipo de bairro (Residencial, Comercial ou Perif\u00e9rico).  \nUma sugest\u00e3o de melhorias pr\u00e1ticas para reduzir o risco segundo o CPTED.  \nSe n\u00e3o for poss\u00edvel identificar alguma vari\u00e1vel pela imagem, indique isso explicitamente.\n</code></pre>"},{"location":"vlms/#pixtral-12b","title":"Pixtral-12B","text":"<pre><code>Para analisar a imagem da rua segundo os seis princ\u00edpios do CPTED, vamos avaliar cada um dos princ\u00edpios:\n\n1. Vigil\u00e2ncia Natural (V)\nAvalia\u00e7\u00e3o Descritiva: A rua parece bem iluminada e \u00e9 vis\u00edvel. Existem edif\u00edcios ao longo da rua que contribuem para a observa\u00e7\u00e3o.\nNota: 8/10\n2. Controle Natural de Acesso (A)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o h\u00e1 barreiras vis\u00edveis ou port\u00f5es que limitem acessos indesejados. As entradas parecem abertas.\nNota: 5/10\n3. Refor\u00e7o Territorial (T)\nAvalia\u00e7\u00e3o Descritiva: Existem sinais de propriedade e pertencimento, como muros e jardins cuidados.\nNota: 7/10\n4. Manuten\u00e7\u00e3o (M)\nAvalia\u00e7\u00e3o Descritiva: A rua parece limpa e bem conservada, sem sinais de abandono ou picha\u00e7\u00f5es.\nNota: 8/10\n5. Atividades Leg\u00edtimas (AL)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o \u00e9 poss\u00edvel identificar claramente se h\u00e1 atividades leg\u00edtimas em andamento, como com\u00e9rcio ou lazer.\nNota: 5/10\n6. Suporte para Atividades Sociais (S)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o h\u00e1 estruturas vis\u00edveis que favore\u00e7am a intera\u00e7\u00e3o comunit\u00e1ria, como pra\u00e7as ou bancos.\nNota: 4/10\nC\u00e1lculo do Risk Score\nPara calcular o Risk Score, vamos considerar que a imagem representa um bairro comercial. A f\u00f3rmula para um bairro comercial \u00e9:\n\n[ \\text{Risk Score} = (V + A + T + M + AL + S) / 6 ]\n\nSubstituindo os valores:\n\n[ \\text{Risk Score} = (8 + 5 + 7 + 8 + 5 + 4) / 6 = 41 / 6 \\approx 6.83 ]\n\nSugest\u00f5es de Melhorias Pr\u00e1ticas\nVigil\u00e2ncia Natural: Instalar c\u00e2meras de seguran\u00e7a e garantir que as luzes p\u00fablicas funcionem corretamente.\nControle Natural de Acesso: Implementar barreiras f\u00edsicas ou port\u00f5es controlados\n</code></pre>"},{"location":"vlms/#qwen2-5-vl-7b-instruct","title":"Qwen2-5-VL-7B-Instruct","text":"<pre><code>Para a an\u00e1lise da imagem fornecida, vamos avaliar a rua segundo os seis princ\u00edpios do CPTED:\n\nVigil\u00e2ncia Natural (V):\n\nIlumina\u00e7\u00e3o adequada: A rua parece ter ilumina\u00e7\u00e3o natural devido \u00e0 presen\u00e7a de \u00e1rvores e plantas, mas n\u00e3o h\u00e1 evid\u00eancias de ilumina\u00e7\u00e3o artificial. A visibilidade pode ser limitada \u00e0 noite.\nRua vis\u00edvel: A rua \u00e9 vis\u00edvel, mas a visibilidade pode ser limitada devido \u00e0 vegeta\u00e7\u00e3o alta.\nJanelas e fachadas contribuem para a observa\u00e7\u00e3o: N\u00e3o h\u00e1 janelas ou fachadas vis\u00edveis que contribuam para a observa\u00e7\u00e3o da rua.\nNota: 5/10\nControle Natural de Acesso (A):\n\nBarreiras, entradas definidas, port\u00f5es ou elementos que limitem acessos indesejados: N\u00e3o h\u00e1 evid\u00eancias de barreiras, entradas definidas, port\u00f5es ou elementos que limitem acessos indesejados.\nNota: 0/10\nRefor\u00e7o Territorial (T):\n\nSinais claros de propriedade e pertencimento: H\u00e1 um muro que pode indicar propriedade, mas a vegeta\u00e7\u00e3o alta dificulta a visualiza\u00e7\u00e3o.\nJardins cuidados, muros, sinaliza\u00e7\u00e3o, pintura: O muro parece ser uma barreira, mas a vegeta\u00e7\u00e3o alta dificulta a visualiza\u00e7\u00e3o.\nNota: 3/10\nManuten\u00e7\u00e3o (M):\n\nEspa\u00e7o limpo, conservado, sem picha\u00e7\u00f5es ou sinais de abandono: A rua parece limpa, mas a vegeta\u00e7\u00e3o alta e o muro podem indicar um estado de abandono.\nNota: 7/10\nAtividades Leg\u00edtimas (AL):\n\nEspa\u00e7o usado para atividades positivas: N\u00e3o h\u00e1 evid\u00eancias de atividades leg\u00edtimas como com\u00e9rcio, lazer ou conviv\u00eancia.\nNota: 0/10\nSuporte para Atividades Sociais (S):\n\n**Estruturas que favorecem intera\u00e7\u00e3o comunit\u00e1ria\n</code></pre>"},{"location":"vlms/#qwen2-5-vl-72b-instruct","title":"Qwen2-5-VL-72B-Instruct","text":"<pre><code>An\u00e1lise da Imagem Segundo os Princ\u00edpios do CPTED\n1. Vigil\u00e2ncia Natural (V)\nAvalia\u00e7\u00e3o Descritiva: A ilumina\u00e7\u00e3o n\u00e3o \u00e9 vis\u00edvel na imagem, mas a rua parece ser vis\u00edvel durante o dia. N\u00e3o h\u00e1 janelas ou fachadas que contribuam para a observa\u00e7\u00e3o da rua. A vegeta\u00e7\u00e3o alta ao lado da rua pode obstruir a vis\u00e3o.\n\nNota: 3/10\n\n2. Controle Natural de Acesso (A)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o h\u00e1 barreiras, entradas definidas, port\u00f5es ou elementos que limitem acessos indesejados. A rua parece ser aberta e livre para qualquer tipo de acesso.\n\nNota: 2/10\n\n3. Refor\u00e7o Territorial (T)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o h\u00e1 sinais claros de propriedade e pertencimento. A vegeta\u00e7\u00e3o alta e o muro com picha\u00e7\u00f5es n\u00e3o contribuem para a sensa\u00e7\u00e3o de pertencimento.\n\nNota: 1/10\n\n4. Manuten\u00e7\u00e3o (M)\nAvalia\u00e7\u00e3o Descritiva: O espa\u00e7o n\u00e3o est\u00e1 limpo e conservado. H\u00e1 picha\u00e7\u00f5es no muro e a vegeta\u00e7\u00e3o est\u00e1 alta e descontrolada.\n\nNota: 2/10\n\n5. Atividades Leg\u00edtimas (AL)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o \u00e9 poss\u00edvel identificar atividades leg\u00edtimas na imagem. A rua parece ser usada apenas para tr\u00e2nsito de ve\u00edculos.\n\nNota: 3/10\n\n6. Suporte para Atividades Sociais (S)\nAvalia\u00e7\u00e3o Descritiva: N\u00e3o h\u00e1 estruturas que favore\u00e7am intera\u00e7\u00e3o comunit\u00e1ria. A rua n\u00e3o parece ser um espa\u00e7o para conviv\u00eancia social.\n\nNota: 1/10\n\nC\u00e1lculo do Risk Score\nPara calcular o Risk Score, usaremos a f\u00f3rmula correspondente ao tipo de bairro. Como n\u00e3o h\u00e1 informa\u00e7\u00f5es suficientes para determinar o tipo de bairro, usaremos a f\u00f3rmula geral:\n\nRisk Score = (V + A + T + M + AL + S) / 6\n\nRisk Score = (3 +\n</code></pre>"},{"location":"vlms/#prompt-2","title":"Prompt 2","text":"<pre><code>Quero que voc\u00ea atue como um especialista em CPTED (Crime Prevention Through Environmental Design).  \nVou enviar uma imagem de uma rua e voc\u00ea deve analis\u00e1-la segundo os seis princ\u00edpios do CPTED:\n\n1. **Vigil\u00e2ncia Natural (V)** \u2013 H\u00e1 ilumina\u00e7\u00e3o adequada? A rua \u00e9 vis\u00edvel? Janelas e fachadas contribuem para a observa\u00e7\u00e3o?\n\n2. **Controle Natural de Acesso (A)** \u2013 Existem barreiras, entradas definidas, port\u00f5es ou elementos que limitem acessos indesejados?\n\n3. **Refor\u00e7o Territorial (T)** \u2013 H\u00e1 sinais claros de propriedade e pertencimento (jardins cuidados, muros, sinaliza\u00e7\u00e3o, pintura)?\n\n4. **Manuten\u00e7\u00e3o (M)** \u2013 O espa\u00e7o est\u00e1 limpo, conservado, sem picha\u00e7\u00f5es ou sinais de abandono?\n\n5. **Atividades Leg\u00edtimas (AL)** \u2013 O espa\u00e7o \u00e9 usado para atividades positivas (com\u00e9rcio, lazer, conviv\u00eancia)?\n\n6. **Suporte para Atividades Sociais (S)** \u2013 Existem estruturas que favorecem intera\u00e7\u00e3o comunit\u00e1ria (pra\u00e7as, bancos, quadras)?\n\n\nSua resposta deve seguir **estritamente este formato de sa\u00edda**:\n\n### An\u00e1lise CPTED\n\n**1. Vigil\u00e2ncia Natural (V)**\n\n- Nota: X/10\n\n- Coment\u00e1rio: [descreva sua avalia\u00e7\u00e3o]\n\n\n**2. Controle Natural de Acesso (A)**\n\n- Nota: X/10\n\n- Coment\u00e1rio: [descreva sua avalia\u00e7\u00e3o]\n\n\n**3. Refor\u00e7o Territorial (T)**\n\n- Nota: X/10\n\n- Coment\u00e1rio: [descreva sua avalia\u00e7\u00e3o]\n\n\n**4. Manuten\u00e7\u00e3o (M)**\n\n- Nota: X/10\n\n- Coment\u00e1rio: [descreva sua avalia\u00e7\u00e3o]\n\n\n**5. Atividades Leg\u00edtimas (AL)**\n\n- Nota: X/10\n\n- Coment\u00e1rio: [descreva sua avalia\u00e7\u00e3o]\n\n\n**6. Suporte para Atividades Sociais (S)**\n\n- Nota: X/10\n\n- Coment\u00e1rio: [descreva sua avalia\u00e7\u00e3o]\n</code></pre>"},{"location":"vlms/#pixtral-12b_1","title":"Pixtral-12B","text":"<pre><code>An\u00e1lise CPTED\n1. Vigil\u00e2ncia Natural (V)\n\nNota: 7/10\n\nComent\u00e1rio: A rua parece bem iluminada e vis\u00edvel, o que contribui para a vigil\u00e2ncia natural. No entanto, a presen\u00e7a de vegeta\u00e7\u00e3o alta pode obstruir a vis\u00e3o de algumas \u00e1reas, reduzindo ligeiramente a efic\u00e1cia da vigil\u00e2ncia.\n\n2. Controle Natural de Acesso (A)\n\nNota: 6/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 barreiras vis\u00edveis ou port\u00f5es que limitem acessos indesejados. As entradas parecem abertas, o que pode facilitar o acesso n\u00e3o autorizado.\n\n3. Refor\u00e7o Territorial (T)\n\nNota: 8/10\n\nComent\u00e1rio: Existem sinais claros de propriedade e pertencimento, como a parede de pedra e a vegeta\u00e7\u00e3o bem cuidada. A presen\u00e7a de edif\u00edcios altos tamb\u00e9m refor\u00e7a o senso de territ\u00f3rio.\n\n4. Manuten\u00e7\u00e3o (M)\n\nNota: 7/10\n\nComent\u00e1rio: A rua parece limpa e conservada, sem sinais vis\u00edveis de abandono ou picha\u00e7\u00e3o. No entanto, a vegeta\u00e7\u00e3o alta pode indicar falta de manuten\u00e7\u00e3o regular.\n\n5. Atividades Leg\u00edtimas (AL)\n\nNota: 6/10\n\nComent\u00e1rio: A presen\u00e7a de edif\u00edcios comerciais e residenciais sugere que a \u00e1rea pode ser usada para atividades leg\u00edtimas. No entanto, a aus\u00eancia de pessoas na imagem reduz a percep\u00e7\u00e3o de uso positivo.\n\n6. Suporte para Atividades Sociais (S)\n\nNota: 5/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 estruturas vis\u00edveis que favore\u00e7am a intera\u00e7\u00e3o comunit\u00e1ria, como pra\u00e7as, bancos ou quadras. Isso pode limitar a socializa\u00e7\u00e3o e o engajamento comunit\u00e1rio.\n\nPontos de Melhoria\nVigil\u00e2ncia Natural: Reduzir a vegeta\u00e7\u00e3o alta para melhorar a visibilidade.\nControle Natural de Acesso: Implementar barreiras ou port\u00f5es para controlar acessos indesejados.\nSuporte para Atividades Sociais: Adicionar espa\u00e7os p\u00fablicos que favore\u00e7am a intera\u00e7\u00e3o comunit\u00e1ria.\nEssas melhorias podem aumentar a seguran\u00e7a e o senso de pertencimento na \u00e1rea.\n</code></pre>"},{"location":"vlms/#qwen2-5-vl-7b-instruct_1","title":"Qwen2-5-VL-7B-Instruct","text":"<pre><code>An\u00e1lise CPTED\n1. Vigil\u00e2ncia Natural (V)\n\nNota: 3/10\n\nComent\u00e1rio: A rua n\u00e3o parece muito iluminada, e a vegeta\u00e7\u00e3o alta pode dificultar a visibilidade. As janelas e fachadas dos edif\u00edcios n\u00e3o parecem contribuir significativamente para a observa\u00e7\u00e3o da rua.\n\n2. Controle Natural de Acesso (A)\n\nNota: 4/10\n\nComent\u00e1rio: H\u00e1 um port\u00e3o na extremidade da rua, mas a vegeta\u00e7\u00e3o alta pode dificultar o acesso. N\u00e3o h\u00e1 outras barreiras ou entradas definidas que limitem acessos indesejados.\n\n3. Refor\u00e7o Territorial (T)\n\nNota: 2/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 sinais claros de propriedade ou pertencimento. A vegeta\u00e7\u00e3o alta e a falta de manuten\u00e7\u00e3o contribuem para a impress\u00e3o de abandono.\n\n4. Manuten\u00e7\u00e3o (M)\n\nNota: 2/10\n\nComent\u00e1rio: A rua est\u00e1 suja, com vegeta\u00e7\u00e3o alta e sinais de abandono. N\u00e3o h\u00e1 evid\u00eancias de manuten\u00e7\u00e3o adequada.\n\n5. Atividades Leg\u00edtimas (AL)\n\nNota: 1/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 evid\u00eancias de atividades leg\u00edtimas sendo realizadas na rua. A vegeta\u00e7\u00e3o alta e a falta de manuten\u00e7\u00e3o podem dificultar a utiliza\u00e7\u00e3o do espa\u00e7o.\n\n6. Suporte para Atividades Sociais (S)\n\nNota: 1/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 estruturas que favore\u00e7am intera\u00e7\u00e3o comunit\u00e1ria. A vegeta\u00e7\u00e3o alta e a falta de manuten\u00e7\u00e3o podem dificultar a utiliza\u00e7\u00e3o do espa\u00e7o para atividades sociais.\n</code></pre>"},{"location":"vlms/#qwen2-5-vl-72b-instruct_1","title":"Qwen2-5-VL-72B-Instruct","text":"<pre><code>An\u00e1lise CPTED\n1. Vigil\u00e2ncia Natural (V)\n\nNota: 4/10\n\nComent\u00e1rio: A ilumina\u00e7\u00e3o n\u00e3o \u00e9 vis\u00edvel na imagem, mas a rua parece ser relativamente estreita e n\u00e3o muito vis\u00edvel de longe. As fachadas dos edif\u00edcios n\u00e3o parecem contribuir significativamente para a observa\u00e7\u00e3o, e a vegeta\u00e7\u00e3o alta no lado esquerdo pode obstruir a vis\u00e3o. A falta de janelas voltadas para a rua tamb\u00e9m reduz a possibilidade de vigil\u00e2ncia natural.\n\n2. Controle Natural de Acesso (A)\n\nNota: 5/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 barreiras ou port\u00f5es vis\u00edveis que limitem o acesso \u00e0 rua. A vegeta\u00e7\u00e3o alta no lado esquerdo pode dificultar o controle de acesso, mas n\u00e3o h\u00e1 elementos definidos que indiquem um controle natural de acesso. A rua parece ser aberta e acess\u00edvel.\n\n3. Refor\u00e7o Territorial (T)\n\nNota: 3/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 sinais claros de propriedade e pertencimento. A vegeta\u00e7\u00e3o alta e a parede com picha\u00e7\u00f5es no lado esquerdo n\u00e3o contribuem para a sensa\u00e7\u00e3o de cuidado e pertencimento. N\u00e3o h\u00e1 muros, sinaliza\u00e7\u00e3o ou pintura que indiquem claramente a propriedade do espa\u00e7o.\n\n4. Manuten\u00e7\u00e3o (M)\n\nNota: 2/10\n\nComent\u00e1rio: O espa\u00e7o n\u00e3o parece estar bem conservado. A parede com picha\u00e7\u00f5es e a vegeta\u00e7\u00e3o alta indicam sinais de abandono e falta de manuten\u00e7\u00e3o. N\u00e3o h\u00e1 evid\u00eancias de limpeza regular ou cuidados com o espa\u00e7o.\n\n5. Atividades Leg\u00edtimas (AL)\n\nNota: 3/10\n\nComent\u00e1rio: N\u00e3o h\u00e1 evid\u00eancias claras de atividades leg\u00edtimas na imagem. A rua parece ser usada apenas para tr\u00e2nsito de ve\u00edculos, e n\u00e3o h\u00e1 sinais de com\u00e9rcio, lazer ou conviv\u00eancia. A falta de atividades positivas pode contribuir para a sensa\u00e7\u00e3o de inseguran\u00e7a.\n\n6. Suporte para Atividades Sociais (S)\n\nNota: 1/1\n</code></pre>"},{"location":"vlms/#observacoes","title":"Observa\u00e7\u00f5es","text":"<p>\u00c9 necess\u00e1rio aumentar a quantidade de tokens da gera\u00e7\u00e3o, ou pedir para ele ser ainda mais direto nos coment\u00e1rios. </p>"},{"location":"backup/roadmap/","title":"Roadmap de Desenvolvimento","text":"<p>O projeto \u00e9 gerenciado em Sprints de 2 semanas. A tabela abaixo resume as metas e os entreg\u00e1veis chave para a entrega da Vers\u00e3o 1.0.</p>"},{"location":"backup/roadmap/#fase-1-mvp-funcional-6-meses","title":"FASE 1: MVP Funcional (6 Meses)","text":"Sprint Meta Principal (Sprint Goal) Entreg\u00e1veis Chave 1-2 Configurar o ambiente de desenvolvimento e a base de dados. Ambiente Docker funcional, Schema do PostGIS v1, Backlog do projeto. 3-4 Implementar o fluxo de autentica\u00e7\u00e3o e submiss\u00e3o de reports. Endpoints de auth/reports, Telas de login e submiss\u00e3o no app, Dados salvos no DB/Storage. 5-6 Entregar o MVP com o fluxo de roteamento b\u00e1sico de ponta a ponta. Inst\u00e2ncia do Valhalla, Microsservi\u00e7o de rota, App desenhando a rota no mapa (MVP v1)."},{"location":"backup/roadmap/#fase-2-refactoring-6-meses","title":"FASE 2: Refactoring (6 Meses)","text":"Sprint Meta Principal (Sprint Goal) Entreg\u00e1veis Chave 7-8 Integrar a pipeline de IA e o monitoramento do sistema. Pipeline de <code>Image-to-Text</code> + <code>Info Extraction</code> funcional, Dashboard de monitoramento (Grafana). 9-10 Fazer o roteamento ser influenciado pelo <code>risk_score</code> da IA e GNN. Modelo GNN v0 treinado, Roteamento com pesos de risco din\u00e2micos, In\u00edcio dos testes beta. 11-12 Polir a aplica\u00e7\u00e3o com base no feedback e preparar o lan\u00e7amento. App com UI/UX refinada, Documenta\u00e7\u00e3o t\u00e9cnica finalizada, Vers\u00e3o 1.0 do GUIA pronta."},{"location":"backup/roadmap/#detalhamento-das-sprints","title":"Detalhamento das Sprints","text":""},{"location":"backup/roadmap/#sprint-1-fundacao-setup","title":"Sprint 1: Funda\u00e7\u00e3o &amp; Setup","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #1 Configura\u00e7\u00e3o Inicial do Projeto Configurar reposit\u00f3rios, board de gest\u00e3o e ambiente de desenvolvimento. - Reposit\u00f3rios <code>guia-frontend</code>, <code>guia-orchestrator</code>, <code>guia-routing-service</code> criados.  - Board do GitHub Projects configurado.  - <code>docker-compose.yml</code> inicial com Postgres/PostGIS. Nenhuma #2 Modelagem e Migra\u00e7\u00e3o do Banco de Dados v1 Definir e implementar a primeira vers\u00e3o do schema do banco de dados. - DBML do schema finalizado e commitado.  - Script de migra\u00e7\u00e3o que cria as tabelas <code>users</code>, <code>reports</code>, <code>images</code>, <code>street_segments</code>, <code>h3_hexagons</code>, <code>ai_analyses</code>. #1"},{"location":"backup/roadmap/#sprint-2-autenticacao-ci","title":"Sprint 2: Autentica\u00e7\u00e3o &amp; CI","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #3 API de Autentica\u00e7\u00e3o (Backend) Criar os endpoints para cadastro e login de usu\u00e1rios. - Endpoint <code>POST /auth/register</code> funciona.  - Endpoint <code>POST /auth/login</code> retorna token JWT.  - Senhas s\u00e3o armazenadas com hash. #2 #4 Fluxo de Autentica\u00e7\u00e3o (Frontend) Criar as telas e a l\u00f3gica no app para o usu\u00e1rio se autenticar. - Telas de Login e Cadastro constru\u00eddas.  - L\u00f3gica para chamar as APIs de auth e gerenciar o token JWT.  - Rotas protegidas implementadas. #3 #5 Pipeline de CI B\u00e1sico Automatizar a verifica\u00e7\u00e3o de qualidade do c\u00f3digo a cada PR. - GitHub Actions configurado para os reposit\u00f3rios.  - Etapas de linting e execu\u00e7\u00e3o de testes unit\u00e1rios iniciais. #1"},{"location":"backup/roadmap/#sprint-3-ingestao-de-reports","title":"Sprint 3: Ingest\u00e3o de Reports","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #6 API de Ingest\u00e3o de Reports (Backend) Desenvolver o endpoint para receber as ocorr\u00eancias dos usu\u00e1rios. - Endpoint <code>POST /reports</code> criado.  - Aceita coordenadas, texto e imagem.  - Salva metadados no PostGIS e faz upload da imagem para o Object Storage. #2 #7 Fluxo de Submiss\u00e3o de Reports (Frontend) Criar a interface no app para o usu\u00e1rio enviar um report. - Tela de submiss\u00e3o com acesso \u00e0 c\u00e2mera/GPS/texto.  - L\u00f3gica para enviar os dados para o <code>POST /reports</code>.  - O fluxo completo de login e envio \u00e9 validado. #4, #6"},{"location":"backup/roadmap/#sprint-4-coleta-de-dados-geohashing","title":"Sprint 4: Coleta de Dados &amp; Geohashing","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #8 Script de Coleta de Dados (Cold Start) Criar o script para popular o banco de dados com imagens do Street View. - Script Python que consome a API do Street View.  - O script percorre os <code>street_segments</code> da regi\u00e3o piloto e salva as imagens no Object Storage. #2 #9 Povoamento de Dados Geogr\u00e1ficos Popular o banco com a malha vi\u00e1ria e a grade hexagonal. - Tabela <code>street_segments</code> populada com dados do OpenStreetMap.  - Tabela <code>h3_hexagons</code> populada com a geometria dos hex\u00e1gonos da regi\u00e3o piloto. #2"},{"location":"backup/roadmap/#sprint-5-setup-do-motor-de-roteamento","title":"Sprint 5: Setup do Motor de Roteamento","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #10 Configura\u00e7\u00e3o do NGINX e Fila de Tarefas Preparar a infraestrutura de mensageria e o proxy reverso. - Container Docker da Fila (RabbitMQ/Redis) adicionado ao <code>docker-compose.yml</code>.  - Container do NGINX configurado como proxy reverso para o Orchestrator. #1 #11 Containeriza\u00e7\u00e3o do Valhalla Empacotar o motor de roteamento e o microsservi\u00e7o em uma imagem Docker. - Dockerfile criado para o <code>guia-routing-service</code>.  - A imagem Docker builda com sucesso, contendo Valhalla e o c\u00f3digo do servi\u00e7o. #10"},{"location":"backup/roadmap/#sprint-6-mvp-de-roteamento-fluxo-completo","title":"Sprint 6: MVP de Roteamento (Fluxo Completo)","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #12 L\u00f3gica de Rota Ass\u00edncrona (Backend) Orquestrar o pedido de rota usando a fila de tarefas. - Endpoint <code>GET /safe-route</code> no Orchestrator publica uma tarefa na fila.  - Mecanismo de retorno da resposta para o cliente (WebSocket/Long Polling) implementado. #10 #13 L\u00f3gica do Microsservi\u00e7o de Rota Implementar o c\u00e1lculo da rota no microsservi\u00e7o. - Servi\u00e7o consome a tarefa da fila.  - Servi\u00e7o chama a API do Valhalla localmente (com custo padr\u00e3o).  - A polilinha da rota \u00e9 publicada em uma fila de resposta. #11, #12 #14 Roteamento no App (Frontend) Permitir que o usu\u00e1rio solicite e veja a rota no mapa. - UI para inserir origem e destino.  - L\u00f3gica para chamar a API e desenhar a rota recebida.  - MVP \u00e9 considerado funcional ap\u00f3s esta task. #12"},{"location":"backup/roadmap/#sprint-7-pipeline-de-ia-image-to-text","title":"Sprint 7: Pipeline de IA - Image-to-Text","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #15 Microsservi\u00e7o de Image-to-Text Criar o servi\u00e7o que converte imagem em descri\u00e7\u00e3o textual usando Qwen. - Servi\u00e7o (ex: fun\u00e7\u00e3o serverless ou container) implementado.  - API do Qwen integrada.  - Prompt engineering baseado em CPTED implementado. #6 #16 Integra\u00e7\u00e3o do Image-to-Text Integrar o novo microsservi\u00e7o no fluxo de ingest\u00e3o de reports. - Orchestrator, ap\u00f3s salvar a imagem, chama o servi\u00e7o da Issue #15.  - A descri\u00e7\u00e3o textual gerada \u00e9 salva na tabela <code>ai_analyses</code>. #15"},{"location":"backup/roadmap/#sprint-8-pipeline-de-ia-extracao-de-risco","title":"Sprint 8: Pipeline de IA - Extra\u00e7\u00e3o de Risco","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #17 Microsservi\u00e7o de Extra\u00e7\u00e3o de Fatores Criar o servi\u00e7o que extrai fatores de risco do texto usando Gemini. - Servi\u00e7o implementado.  - API do Gemini integrada.  - O servi\u00e7o recebe um texto e retorna um JSON estruturado com os fatores de risco. #16 #18 Orquestra\u00e7\u00e3o da Pipeline de IA Completa Integrar a extra\u00e7\u00e3o e o c\u00e1lculo do <code>risk_score</code> inicial. - Orchestrator chama o servi\u00e7o da Issue #17 ap\u00f3s a Etapa de Image-to-Text.  - Algoritmo que converte o JSON em <code>risk_score</code> num\u00e9rico \u00e9 implementado.  - O <code>risk_score</code> \u00e9 salvo na tabela <code>ai_analyses</code>. #17"},{"location":"backup/roadmap/#sprint-9-roteamento-inteligente","title":"Sprint 9: Roteamento Inteligente","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #19 Adapta\u00e7\u00e3o do Valhalla para Custo Din\u00e2mico Fazer o Valhalla usar o <code>risk_score</code> para influenciar as rotas. - Microsservi\u00e7o de roteamento consulta os <code>risk_scores</code> no PostGIS para a \u00e1rea da rota.  - L\u00f3gica de dynamic costing do Valhalla implementada para aplicar penalidades em ruas com alto risco. #13, #18 #20 Testes de Valida\u00e7\u00e3o do Roteamento Garantir que as rotas est\u00e3o efetivamente desviando de \u00e1reas de risco. - Conjunto de testes A/B criado (rota normal vs. rota segura).  - Valida\u00e7\u00e3o de que as rotas seguras geradas s\u00e3o diferentes e evitam os pontos de risco conhecidos. Eng. de Software / QA"},{"location":"backup/roadmap/#sprint-10-gnn-preparacao-e-treinamento","title":"Sprint 10: GNN - Prepara\u00e7\u00e3o e Treinamento","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #21 Scripts de Extra\u00e7\u00e3o de Grafo Preparar os dados para alimentar o modelo GNN. - Script que extrai o grafo da cidade (n\u00f3s, arestas, features) do PostGIS.  - O output \u00e9 compat\u00edvel com PyTorch Geometric ou DGL. #2, #18 #22 Treinamento do Modelo GNN v0 Treinar a primeira vers\u00e3o da GNN para contextualizar os <code>risk_scores</code>. - Modelo GNN (GCN/GraphSAGE) treinado com sucesso.  - Artefatos do modelo (pesos, etc.) salvos e versionados. #21"},{"location":"backup/roadmap/#sprint-11-gnn-inferencia-e-dashboard-web","title":"Sprint 11: GNN - Infer\u00eancia e Dashboard Web","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #23 Job de Infer\u00eancia da GNN Automatizar a atualiza\u00e7\u00e3o dos scores de risco contextualizados. - Um job agendado (ex: Airflow, cron) executa a infer\u00eancia da GNN.  - O job atualiza a coluna <code>gnn_risk_score</code> na tabela <code>h3_hexagons</code>. #22 #24 API e Dashboard Web Criar a interface web para visualiza\u00e7\u00e3o dos mapas de calor. - Endpoint <code>GET /heatmap</code> criado no Backend.  - Dashboard Web desenvolvido, consumindo a API e exibindo o mapa de calor da GNN. #23"},{"location":"backup/roadmap/#sprint-12-testes-polimento-e-documentacao-final","title":"Sprint 12: Testes, Polimento e Documenta\u00e7\u00e3o Final","text":"Issue T\u00edtulo Descri\u00e7\u00e3o Crit\u00e9rios de Aceita\u00e7\u00e3o Depend\u00eancias #25 Testes Beta com Usu\u00e1rios Coletar feedback do mundo real sobre a aplica\u00e7\u00e3o completa. - Rodada de testes com um grupo de usu\u00e1rios selecionados \u00e9 executada.  - Feedback sobre usabilidade, performance e precis\u00e3o das rotas \u00e9 coletado e organizado. Gest\u00e3o / Todos #26 Otimiza\u00e7\u00e3o e Corre\u00e7\u00e3o de Bugs Refinar o produto com base no feedback e em an\u00e1lises de performance. - Principais bugs reportados s\u00e3o corrigidos.  - Gargalos de performance identificados s\u00e3o otimizados.  - Build da Vers\u00e3o 1.0 para o piloto \u00e9 gerada. Todos #27 Finaliza\u00e7\u00e3o da Documenta\u00e7\u00e3o Deixar a documenta\u00e7\u00e3o t\u00e9cnica completa e atualizada no MkDocs. - Todas as se\u00e7\u00f5es do MkDocs (Arquitetura, Pipeline, etc.) est\u00e3o preenchidas e revisadas. Todos"}]}